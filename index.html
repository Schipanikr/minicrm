<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mini CRM</title>
  <script type="module" src="app.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Menu principale -->
  <nav id="main-menu">
    <ul>
      <li><a href="#" id="menu-dashboard">Dashboard</a></li>
      <li><a href="#" id="menu-aziende">Aziende</a></li>
      <li><a href="#" id="menu-logout">Logout</a></li>
    </ul>
  </nav>

  <header>
    <h1>Mini CRM</h1>
  </header>

  <main>
    <!-- LOGIN -->
    <section id="login-section" class="card">
      <h2>Login</h2>
      <input id="email" type="email" placeholder="Email">
      <input id="password" type="password" placeholder="Password">
      <button id="login-btn">Accedi</button>
    </section>

    <!-- DASHBOARD -->
    <section id="dashboard" class="main-section" style="display:none">
      <p id="role"></p>

      <!-- Admin area -->
      <div id="admin-area" class="card admin-only" style="display:none">
        <h3>Crea Agente</h3>
        <input id="agent-email" placeholder="Email agente">
        <input id="agent-pass" type="password" placeholder="Password agente">
        <button id="create-agent-btn">Crea Agente</button>
      </div>

      <!-- Aggiungi azienda -->
      <div id="add-company-form" class="card">
        <h3>Aggiungi Azienda</h3>
        <input id="c-name" placeholder="Nome azienda">
        <input id="c-phone" placeholder="Numero">
        <input id="c-email" placeholder="Email">
        <input id="c-city" placeholder="Città">
        <button id="add-company">Inserisci</button>
      </div>
    </section>

    <!-- Aziende -->
    <section id="aziende-section" class="main-section" style="display:none">
      <!-- Filtro -->
      <input id="filter-input" placeholder="Cerca per nome o città..." style="margin:15px; padding:10px; width:calc(100% - 30px); border-radius:6px; border:1px solid #ccc;">

      <!-- Lista aziende -->
      <div id="company-list" class="cards-container"></div>

      <!-- Scheda dettaglio azienda -->
      <div id="company-detail" class="card" style="display:none;">
        <h3 id="detail-name"></h3>
        <p><strong>Città:</strong> <span id="detail-city"></span></p>
        <p><strong>Telefono:</strong> <span id="detail-phone"></span></p>
        <p><strong>Email:</strong> <span id="detail-email"></span></p>
        <button id="close-detail">Chiudi</button>
      </div>
    </section>
  </main>
</body>
</html>
